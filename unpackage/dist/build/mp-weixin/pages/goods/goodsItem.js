(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/goodsItem"],{"0830":function(t,n,e){"use strict";(function(t){e("23a1");o(e("66fd"));var n=o(e("e52c"));function o(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},"2d58":function(t,n,e){"use strict";e.r(n);var o=e("3435"),u=e.n(o);for(var r in o)"default"!==r&&function(t){e.d(n,t,(function(){return o[t]}))}(r);n["default"]=u.a},3435:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=u(e("a34a"));function u(t){return t&&t.__esModule?t:{default:t}}function r(t,n,e,o,u,r,c){try{var a=t[r](c),i=a.value}catch(s){return void e(s)}a.done?n(i):Promise.resolve(i).then(o,u)}function c(t){return function(){var n=this,e=arguments;return new Promise((function(o,u){var c=t.apply(n,e);function a(t){r(c,o,u,a,i,"next",t)}function i(t){r(c,o,u,a,i,"throw",t)}a(void 0)}))}}var a={data:function(){return{goodsId:null,commentList:[],goodsInfo:{title:"",sales:"90",price:0},goodsList:[],categories:[{name:"商品详情"},{name:"商品评论",count:0},{name:"推荐商品"}],current:0,isCollect:0,cartCount:0}},onLoad:function(t){console.log(t),this.goodsId=t.id,this.getData(),this.getCartCount()},methods:{getData:function(){var t=this;return c(o.default.mark((function n(){var e;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$u.api.getGoods(t.goodsId);case 2:e=n.sent,t.commentList=e.goods.comments,t.goodsInfo=e.goods,t.categories[1].count=e.goods.comments.length,t.goodsList=e.like_goods,t.isCollect=e.goods.is_collect,console.log(e);case 9:case"end":return n.stop()}}),n)})))()},change:function(t){this.current=t},collect:function(){var t=this;return c(o.default.mark((function n(){return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$u.api.Collects(t.goodsId);case 2:0===t.isCollect?(t.$u.toast("收藏成功！！"),t.isCollect=1):(t.$u.toast("取消收藏！！"),t.isCollect=0);case 3:case"end":return n.stop()}}),n)})))()},addCart:function(){var t=this;return c(o.default.mark((function n(){var e;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e={goods_id:t.goodsId},n.next=3,t.$u.api.carts(e);case 3:t.$u.toast("添加成功！"),t.getCartCount();case 5:case"end":return n.stop()}}),n)})))()},getCartCount:function(){var t=this;return c(o.default.mark((function n(){var e,u;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e=t.vuex_token,!e){n.next=6;break}return n.next=4,t.$u.api.cartsList();case 4:u=n.sent,t.cartCount=u.data.length;case 6:case"end":return n.stop()}}),n)})))()},toCart:function(){this.$u.route({type:"switchTab",url:"pages/cart/cart"})}}};n.default=a},"496e":function(t,n,e){"use strict";var o=e("fe7e"),u=e.n(o);u.a},"88cb":function(t,n,e){"use strict";e.d(n,"b",(function(){return u})),e.d(n,"c",(function(){return r})),e.d(n,"a",(function(){return o}));var o={uTabs:function(){return e.e("uview-ui/components/u-tabs/u-tabs").then(e.bind(null,"e5ce"))},uParse:function(){return Promise.all([e.e("common/vendor"),e.e("uview-ui/components/u-parse/u-parse")]).then(e.bind(null,"18a5"))},uRow:function(){return e.e("uview-ui/components/u-row/u-row").then(e.bind(null,"8dd14"))},uCol:function(){return e.e("uview-ui/components/u-col/u-col").then(e.bind(null,"d789"))},goodsCard:function(){return e.e("components/goods-card/goods-card").then(e.bind(null,"3827"))},uIcon:function(){return e.e("uview-ui/components/u-icon/u-icon").then(e.bind(null,"723f"))},uBadge:function(){return e.e("uview-ui/components/u-badge/u-badge").then(e.bind(null,"0c53"))}},u=function(){var t=this,n=t.$createElement;t._self._c},r=[]},e52c:function(t,n,e){"use strict";e.r(n);var o=e("88cb"),u=e("2d58");for(var r in u)"default"!==r&&function(t){e.d(n,t,(function(){return u[t]}))}(r);e("496e");var c,a=e("f0c5"),i=Object(a["a"])(u["default"],o["b"],o["c"],!1,null,"3f774cd6",null,!1,o["a"],c);n["default"]=i.exports},fe7e:function(t,n,e){}},[["0830","common/runtime","common/vendor"]]]);